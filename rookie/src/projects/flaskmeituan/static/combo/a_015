;M.add("p-node-sticky",function(t){function e(){this._handles={},e.superclass.constructor.apply(this,arguments)}var i=t.mt.util,n=t.UA.ie,o=6===n;e.NAME="stickyPlugin",e.NS="sticky",e.ATTRS={bottomEdge:{value:null,getter:function(e){var i;return t.Lang.isNumber(e)?e:(i=t.one(e),i?i.getY()+i.get("offsetHeight"):undefined)},writeOnce:!0},isStaticBottomEdge:{value:!0,writeOnce:!0}};var s=e.NAME+"-fixed",a=e.NAME+"-fix-placeholder";t.extend(e,t.Plugin.Base,{initializer:function(){var t=this;t.get("host")&&!o&&t._bindEvent()},destructor:function(){i.detachHandle(this._handles)},_bindEvent:function(){function e(){var e;h=r.get("docScrollY"),e=h<p?"up":"down",p=h,"up"===e?(h<g._originTopY&&(l.removeClass(s),o&&o.hide()),n()):h>g._originTopY-1&&(g._originTopY>0&&l.addClass(s),l.next("."+a)?(n(),o.show()):(d=parseInt(l.get("offsetHeight"),10),o=t.Node.create('<div class="'+a+'" style="height:'+d+'px;" style="display:none;"></div>'),l.insert(o,"after"),n(),l.show(),g._originTopY=o.getY()))}function n(){u||(c=g.get("bottomEdge")),c&&(h+d>c?l.setStyle("top",c-(h+d)):l.setStyle("top",""))}var o,g=this,r=t.one(window),l=g.get("host"),d=0,c=g.get("bottomEdge"),u=g.get("isStaticBottomEdge"),h=0,p=0;g._originTopY=l.getY(),g._handles.pageHeightChange=t.Global.on("PageHeight:change",function(){var t=l.next("."+a);t&&t.getY()&&(g._originTopY=t.getY())}),g._handles.scroll=r.on("scroll",i.throttle(e))}}),t.namespace("mt.plugin").Sticky=e},"1.0.0",{requires:["mt-base","plugin","node"]});
