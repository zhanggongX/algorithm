;YUI.add("escape",function(e,r){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},n={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,n._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return t[e]}};n.regexp=n.regex,e.Escape=n},"3.16.0",{requires:["yui-base"]});
;M.add("w-core",function(t){var e=t.mt.util,i=t.UA.ie,n=6===i,s=8===i,o={};t.namespace("mt.widget"),t.mt.widget.util={setPosition:function(e,i,n,s,o){var l,r,a=o||"absolute";if(s=s||t.one(document.body),i&&"center"!==i)if("inner"===i)t.one(n).appendChild(e),e.setStyle("position","static");else if(t.Lang.isArray(i))this.setXY(e,i,a);else{var u=t.one(i);this.setXY(e,[u.getX(),u.getY()+u.get("offsetHeight")],a)}else{l=e.get("offsetWidth"),r=e.get("offsetHeight");var d=(s.get("offsetWidth")-l)/2,c=(s.get("winHeight")-r)/2+s.get("docScrollY"),g=c<=0?10:c;this.setXY(e,[d,g],a)}},setXY:function(t,e,i){t.setXY(e),i&&t.setStyle("position",i)},hideNodeByClickDocument:function(e,i,n){if(e){e=t.one(e);var s=e.get("id");this.detachHideNodeByClickDocument(e);var l=this;o[s]=t.on("click",function(t){"none"===e.getStyle("display")||l._isNodeContainsTarget(t.target,e)||l._isNodeContainsTarget(t.target,i)||(e.hide(),n&&n())},document)}},detachHideNodeByClickDocument:function(e){e=t.one(e);var i=e.get("id");o[i]&&t.detach(o[i])},_isNodeContainsTarget:function(e,i){i instanceof t.NodeList||(i=t.all(i));var n=!1;return i.some(function(t){if(t.contains(e))return n=!0,!0}),n},isPosInRegion:function(e,i){"string"==typeof i?i=t.all(i):i instanceof t.Node&&(i=new t.NodeList(i));var n=!1;return i.each(function(t){var i=t.get("region");e[0]>=i.left&&e[0]<=i.right&&e[1]>=i.top&&e[1]<=i.bottom&&(n=!0)}),n},getRegByMode:function(e,i){return i=i||"strict",e=t.Escape.regex(e),"fuzzy"===i?new RegExp(e):"start"===i?new RegExp("^"+e):new RegExp("^"+e+"$")},getClassName:function(e,i){if(!i)return e;if(t.Lang.isString(e))return i+"-"+e;for(var n in e)e.hasOwnProperty(n)&&(e[n]=i+"-"+e[n]);return e},fixedTableHeader:function(i){function o(){if(i.getY()<=i.get("docScrollY")){var e=i.getX()-i.get("docScrollX");n||s?a.setStyles({zIndex:6,left:e,top:i.get("docScrollY"),position:"absolute"}):a.setStyles({position:"fixed",top:0,left:e}),t.Global.fire("table:fixed",{ndTable:i})}else l(a)}function l(t){t.setStyles({position:"static",border:0})}if(i=t.one(i)){var r=i.get("rows"),a=r.item(0),u=i.getComputedStyle("width");i.setStyle("width",u),a.setStyle("width",u),a.all("th").each(function(t){var e=t.getComputedStyle("width");t.setStyle("width",e)}),function(t,e){if(t&&e){var i=e.get("cells");t.get("cells").each(function(t,e){var n=i.item(e);n.setStyle("width",t.getComputedStyle("width"));var s,o=parseInt(t.getComputedStyle("paddingLeft"),10),l=parseInt(t.getComputedStyle("paddingRight"),10);"right"===n.getStyle("textAlign")?(s=o+l-parseInt(n.getComputedStyle("paddingRight"),10),n.setStyle("paddingLeft",s)):(s=o+l-parseInt(n.getComputedStyle("paddingLeft"),10),n.setStyle("paddingRight",s))})}}(a,function(){var t=i.get("rows"),e=null;return t.some(function(t,i){if(0!==i&&"none"!==t.getStyle("display"))return e=t,!0}),e}()),i.setStyle("word-wrap","break-word");t.one(window).on("scroll",e.throttle(o,100)),t.Global.on("table:fixed",function(t){t.ndTable!==i&&l(a)})}}},t.namespace("mt.extension"),t.mt.extension.List=function(){this._cache=[],this._listHandle={mouse:{click:null},delegate:{mouseover:null,mouseout:null,click:null},key:{up:null,down:null,enter:null,tab:null}},t.after(this._syncListUI,this,"syncUI"),t.after(this._bindListUI,this,"bindUI"),t.before(this._listDestructor,this,"destructor")},t.mt.extension.List.ATTRS={maxShowItem:{value:10}},t.mt.extension.List.prototype={_bindListUI:function(){this._bindListDelegate(),this._bindListKey(),this._bindListMouse()},_listDestructor:function(){e.detachHandle(this._listHandle)},_bindListMouse:function(){var e=this,i=this.get("boundingBox");this._listHandle.mouse.click&&this._listHandle.mouse.click.detach(),this._listHandle.mouse.click=t.one(t.config.doc).on("click",function(t){var n=t.target;n===e._ndListTrigger||i.contains(n)||e.get("visible")&&"none"!==e.get("boundingBox").getStyle("display")&&e._leave()})},_bindListDelegate:function(){var t=this,e=this.get("contentBox");this._listHandle.delegate.mouseover=e.delegate("mouseover",function(){e.all("li").removeClass("current"),this.addClass("current")},"li"),this._listHandle.delegate.mouseout=e.delegate("mouseout",function(){this.removeClass("current")},"li"),this._listHandle.delegate.click=e.delegate("click",function(e){e.stopPropagation(),t._select(this)},"li, input")},_bindListKey:function(){var t=this,e=this._ndListTrigger;e&&(this._listHandle.key.down=e.on("key",function(e){var i=t._getList();if(0!==i.size()&&t.get("visible")){e.halt();var n=t._getCurrentItem();if(n){var s=n.next("li");s?(n.removeClass("current"),s.addClass("current")):(n.removeClass("current"),i.item(0).addClass("current"))}else i.item(0).addClass("current")}},"down:40"),this._listHandle.key.up=e.on("key",function(e){var i=t._getList();if(i&&t.get("visible")){e.halt();var n=t._getCurrentItem();if(n){var s=n.previous("li");s?(n.removeClass("current"),s.addClass("current")):(n.removeClass("current"),i.item(i.size()-1).addClass("current"))}}},"down:38"),this._listHandle.key.enter=e.on("key",function(e){e.halt();var i=t._getCurrentItem();i&&t._select(i)},"down:13"),this._listHandle.key.tab=e.on("key",function(){t._leave()},"down:9"))},_getList:function(){return this.get("contentBox").all("li")},_getCurrentItem:function(){return this.get("contentBox").one("li.current")},_syncList:function(t){var e,i,n=[];if(this._cache=t||[],t&&0!==t.length){for(n.push("<ul>"),e=0;e<t.length&&e<this.get("maxShowItem");e++)i=t[e],n.push("<li"+(e%2?' class="alt"':"")+">"),n.push(i.text),n.push("</li>");n.push("</ul>")}else n.push('<p class="none">没有结果</p>');return n.join("")},_showList:function(t,e){t!==undefined&&this.get("contentBox").setHTML(t),e&&this._setListPos(e),this.show()},_calListPosition:function(t){var e=t.getXY();return e[1]+=t.get("offsetHeight"),e},_setListPos:function(e){var i=e||this._listPos;if(!i)throw new Error("请设置结果列表定位信息");t.mt.widget.util.setXY(this.get("boundingBox"),i,"absolute")}}},"1.0.0",{requires:["mt-base","escape","node","event-custom"]});
;M.add("p-align",function(t){t.namespace("mt.plugin");var e=t.Base.create("align",t.Plugin.Base,[],{initializer:function(t){var e=this;e._nd=t.host,e._location=!!t.location&&t.location,e._to=!!t.to&&t.to,e._responsive=!t.responsive||t.responsive,e.bindEvent(),e.doAlign()},bindEvent:function(){var e=this,o=t.one(window);e._responsive&&(o.on("scroll",t.mt.util.throttle(function(){e.doAlign()},10)),o.on("resize",t.mt.util.throttle(function(){e.doAlign()},10)))},_setFirstLocation:function(t,e,o,i){var l=t.get("docScrollY"),s=t.get("docScrollX"),n=(t.get("winHeight"),t.get("winWidth"));switch(e.charAt(0)){case"l":o.left-i.width-s>0?(t.setStyle("left","auto"),t.setStyle("right",-o.left)):(t.setStyle("right","auto"),t.setStyle("left",o.right));break;case"r":o.right+i.width-s<n?(t.setStyle("right","auto"),t.setStyle("left",o.right)):(t.setStyle("left","auto"),t.setStyle("right",-o.left));break;case"t":o.top-i.height-l>0?(t.setStyle("top","auto"),t.setStyle("bottom",-o.top)):(t.setStyle("bottom","auto"),t.setStyle("top",o.bottom));break;case"b":t.setStyle("bottom","auto"),t.setStyle("top",o.bottom)}},_setSecondLocation:function(t,e,o,i){var l=t.get("docScrollY"),s=t.get("docScrollX"),n=t.get("winHeight"),a=t.get("winWidth");switch(e.charAt(1)){case"l":o.left+i.width-s>a?(t.setStyle("left","auto"),t.setStyle("right",-o.right)):(t.setStyle("right","auto"),t.setStyle("left",o.left));break;case"r":o.right-i.width-s<0?(t.setStyle("right","auto"),t.setStyle("left",o.left)):(t.setStyle("left","auto"),t.setStyle("right",-o.right));break;case"t":o.top+i.height-l>n?(t.setStyle("top","auto"),t.setStyle("bottom",-o.bottom)):(t.setStyle("bottom","auto"),t.setStyle("top",o.top));break;case"b":o.bottom-i.height-l<0?(t.setStyle("bottom","auto"),t.setStyle("top",o.top)):(t.setStyle("top","auto"),t.setStyle("bottom",-o.bottom));break;case"c":var r=e.charAt(0);"t"===r||"b"===r?t.setStyle("left",o.left+(o.width-i.width)/2):t.setStyle("top",o.top+(o.height-i.height)/2)}},doAlign:function(t,e){var o,i,l=this,s=l._nd;t&&e&&(l._location=t,l._to=e),l._location&&l._to&&(i=l._to.get("region"),"none"===s.getStyle("display")?(s.setStyle("left",-9999),s.show(),o=s.get("region"),s.hide()):o=s.get("region"),l._setFirstLocation(s,l._location,i,o),l._setSecondLocation(s,l._location,i,o))}},{NS:"align"});t.mt.plugin.Align=e},"1.0.0",{requires:["mt-base","base-build","plugin","node"]});
;M.add("w-simpledialog",function(e){function t(){var e=arguments[0],i=t._instances[e.id];return i instanceof t?(delete e.id,i.setAttrs(e),i):(t._instances[e.id]=this,t.superclass.constructor.apply(this,arguments),this)}var i=e.mt.util,n=e.mt.widget.util;t._instances={},t.NAME="SimpleDialog",t.CSS_PREFIX="mt-simpledialog",t.DIALOG_TPL='<a class="close"></a><div class="body">{detail}</div>',t.DIALOG_CONTAINER_TPL='<div id="mt-simpledialog-container"></div>',t.ATTRS={node:{value:null,setter:e.one,writenOnce:!0},id:{value:null,writenOnce:!0},content:{value:null,writenOnce:!0},width:{value:"350px",writenOnce:!0},location:{value:"bl",writeOnce:!0},autoHide:{value:null,writeOnce:!0}},e.extend(t,e.Widget,{initializer:function(){var i=this,n=i.get("node"),o=i.get("id"),l=e.one(document.body),d=i.get("content");if(!o)throw new Error("simpleDialog: 未设置dialog id");if(!d)throw new Error("simpleDialog: 未设置dialog detail");if(!n)throw new Error("simpleDialog: 未设置dialog node");i.publish("close",{emitFacade:!0,defaultFn:i._defCloseFn}),i._handles={},i._container=l.appendChild(t.DIALOG_CONTAINER_TPL),i.render(i._container)},destructor:function(){i.detachHandle(this._handles)},renderUI:function(){var i=this,n=i.get("boundingBox"),o=i.get("content"),l=i.get("id");n.setStyle("width",i.get("width")),i.get("contentBox").setHTML(e.Lang.sub(t.DIALOG_TPL,{id:l,detail:o})),n.hide(),i._dialog=n},bindUI:function(){var t=this,i=t._dialog;i.plug(e.mt.plugin.Align,{location:t.get("location"),to:t.get("node")}),n.hideNodeByClickDocument(t.get("boundingBox"),t.get("node")),this._handles.close=i.delegate("click",function(){t.close()},".close")},setNode:function(t){var i=this,n=i._dialog;i.set("node",t),n.unplug(e.mt.plugin.Align),n.plug(e.mt.plugin.Align,{location:i.get("location"),to:i.get("node")})},close:function(){var e=this,t=e.get("id");e.fire("close",{id:t})},_defCloseFn:function(){this._dialog.hide()},open:function(){var e=this.get("autoHide");this._dialog.show(),e&&this.autoHide(e)},autoHide:function(e){var t=this;setTimeout(function(){t._dialog.hide()},e)},getHost:function(){return this.get("node")},fillContent:function(e){this.get("contentBox").one(".body").setHTML(e)}}),e.mt.widget.SimpleDialog=t},"1.0.0",{requires:["mt-base","w-core","p-align","widget","node"],skinnable:!0});
