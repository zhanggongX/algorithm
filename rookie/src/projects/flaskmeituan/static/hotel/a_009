;var App=webpackJsonpApp([4],{10:function(e,t){e.exports=React},13:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(0),i=n(u),s=a(14),d=n(s),m=a(15),f=n(m),h=function(e){function t(e){l(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={categorysShow:"none",suggestShow:"none"},a.search=a.search.bind(a),a.cleanHistory=a.cleanHistory.bind(a),a.suggest=a.suggest.bind(a),a}return c(t,e),o(t,[{key:"componentDidMount",value:function(){window.localStorage&&this.setState({searchHistory:JSON.parse(window.localStorage.getItem("searchHistory"))})}},{key:"suggest",value:function(e){var t=e.target.value;this.setState({searchKey:t}),t&&fetch("/ptapi/suggest?keyword="+encodeURI(t),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){0===e.code&&console.log(e.data)})["catch"](function(e){console.log(e)})}},{key:"search",value:function(){var e=this;if(this.state.searchKey){if(window.localStorage){var t=JSON.parse(window.localStorage.getItem("searchHistory"))||[];t=t.filter(function(t){return t!==e.state.searchKey}),t.unshift(this.state.searchKey),t=t.slice(0,10),window.localStorage.setItem("searchHistory",JSON.stringify(t))}window.location.href="http://www.meituan.com/s?w="+encodeURI(this.state.searchKey)}}},{key:"cleanHistory",value:function(){window.localStorage&&window.localStorage.removeItem("searchHistory"),this.setState({searchHistory:[]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentCity,n=a===undefined?{id:1,name:"北京",pinyin:"beijing",acronym:"bj"}:a,l=t.cate,r=t.hotwords,c=t.categorys,o=c===undefined?{leftPcHomeCategoryList:[]}:c,s=this.state,m=s.searchHistory,h=m===undefined?[]:m,p=s.suggestWords,y=p===undefined?[]:p;return i["default"].createElement("header",{className:"com-header"},i["default"].createElement(d["default"],this.props),i["default"].createElement("div",{className:"header-content clearfix"},i["default"].createElement("div",{className:"header-title-module"},i["default"].createElement("div",{className:"header-title"},i["default"].createElement("a",{href:"/"},i["default"].createElement("img",{src:(0,u.url)("/img/logo.png"),alt:"美团"}))),l&&"unknow"!==l?i["default"].createElement("span",{className:"header-categorys-cate"},"· ",l):null,l?i["default"].createElement("ul",{className:"header-categorys-block",onMouseEnter:function(){return e.setState({categorysShow:"block"})},onMouseLeave:function(){return e.setState({categorysShow:"none"})}},i["default"].createElement("li",{className:"header-categorys-all"},"全部分类"),i["default"].createElement(f["default"],{categorys:o,display:this.state.categorysShow,city:n})):null),i["default"].createElement("div",{className:"header-search-module"},i["default"].createElement("div",{className:"header-search-block"},i["default"].createElement("input",{className:"header-search-input",type:"text",placeholder:"搜索商家或地点",onChange:this.suggest,onKeyUp:function(t){return 13===t.keyCode&&e.search()},onFocus:function(){e.setState({suggestShow:"block"})},onBlur:function(){setTimeout(function(){e.setState({suggestShow:"none"})},200)}}),i["default"].createElement("button",{className:"header-search-btn",onClick:this.search},i["default"].createElement("span",{className:"header-icon icon-search"}))),i["default"].createElement("div",{className:"header-search-suggest",style:{display:this.state.suggestShow}},i["default"].createElement("div",{className:"header-search-noinput",style:{display:this.state.searchKey?"none":"block"}},i["default"].createElement("div",{style:{display:h&&h.length>0?"block":"none"}},i["default"].createElement("h6",null,"最近搜索"),i["default"].createElement("span",{className:"header-search-clean",onClick:this.cleanHistory},"删除搜索历史"),i["default"].createElement("ul",null,h&&h.map(function(e,t){return i["default"].createElement("li",{key:t},i["default"].createElement("a",{href:"http://www.meituan.com/s?w="+encodeURI(e)},e))}))),i["default"].createElement("h6",null,"热门搜索"),i["default"].createElement("div",{className:"header-search-hotword"},r&&r.map(function(e,t){return i["default"].createElement("a",{href:"http://www.meituan.com/s?w="+encodeURI(e.word),key:t},e.word)}))),i["default"].createElement("div",{className:"header-search-input",style:{display:this.state.searchKey?"block":"none"}},i["default"].createElement("ul",null,y&&y.map(function(e,t){return i["default"].createElement("li",{key:t},i["default"].createElement("a",{href:"http://www.meituan.com/s?w="+encodeURI(e)},e))})))),i["default"].createElement("div",{className:"header-search-hotword"},r&&r.map(function(e,t){return i["default"].createElement("a",{href:"http://www.meituan.com/s?w="+encodeURI(e.word),key:t},e.word)}))),i["default"].createElement("a",{className:"header-commitment",href:"http://www.meituan.com/commitment/",target:"_blank"},i["default"].createElement("ul",null,i["default"].createElement("li",{className:"commitment-item"},i["default"].createElement("i",{className:"header-icon icon-tui"}),i["default"].createElement("span",null,"随时退")),i["default"].createElement("li",{className:"commitment-item"},i["default"].createElement("i",{className:"header-icon icon-tui2"}),i["default"].createElement("span",null,"不满意免单")),i["default"].createElement("li",{className:"commitment-item"},i["default"].createElement("i",{className:"header-icon icon-tui1"}),i["default"].createElement("span",null,"过期退"))))))}}]),t}(i["default"].Component);t["default"]=h},14:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=function(e){return e&&e.__esModule?e:{"default":e}}(o),i=function(e){function t(e){n(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={myListShow:"none",merchantListShow:"none",siteNavListShow:"none"},a}return r(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentCity,n=a===undefined?{name:"北京",acronym:"bj",id:1}:a,l=t.nearCitys,r=l===undefined?[]:l,c=t.movies,i=c===undefined?[]:c,s=i.slice(0,5);return u["default"].createElement("div",{className:"header-bar"},u["default"].createElement("div",{className:"header-content clearfix"},u["default"].createElement("div",{className:"header-bar-position"},u["default"].createElement("span",{className:"header-icon icon-header_location"}),u["default"].createElement("span",{className:"current-city"},n.name),u["default"].createElement("a",{className:"change-city",href:"http://www.meituan.com/index/changecity/initiative"},"切换城市"),"[",r&&r.length>0?r.map(function(e){return u["default"].createElement("a",{className:"city-guess",key:e.id,href:"http://"+e.acronym+".meituan.com"},e.name)}):null,"]"),u["default"].createElement("nav",{className:"header-bar-nav"},u["default"].createElement("ul",{className:"header-nav-first"},u["default"].createElement("li",{className:"has-child",onMouseEnter:function(){return e.setState({myListShow:"block"})},onMouseLeave:function(){return e.setState({myListShow:"none"})}},"我的美团",u["default"].createElement("ul",{className:"header-nav-my header-nav-second",style:{display:this.state.myListShow}},u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/orders/",target:"_blank"},"我的订单")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/rates/",target:"_blank"},"我的评价")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/collections/",target:"_blank"},"我的收藏")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/card/list",target:"_blank"},"抵用券")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/account/credit",target:"_blank"},"我的余额")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://www.meituan.com/account/settings",target:"_blank"},"账户设置")))),u["default"].createElement("li",null,u["default"].createElement("a",{href:"http://i.meituan.com/mobile/down/meituan",target:"_blank"},"手机APP")),u["default"].createElement("li",{className:"has-child",onMouseEnter:function(){return e.setState({merchantListShow:"block"})},onMouseLeave:function(){return e.setState({merchantListShow:"none"})}},"商家中心",u["default"].createElement("ul",{className:"header-nav-merchant header-nav-second",style:{display:this.state.merchantListShow}},u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://e.meituan.com/",target:"_blank"},"登录商家中心")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://emis.meishi.meituan.com/merchantsSettled",target:"_blank"},"我想合作")),u["default"].createElement("li",null,u["default"].createElement("a",{rel:"nofollow",href:"http://e.meituan.com/mobile/",target:"_blank"},"手机免费开店")))),u["default"].createElement("li",{className:"has-child",onMouseEnter:function(){return e.setState({siteNavListShow:"block"})},onMouseLeave:function(){return e.setState({siteNavListShow:"none"})}},"网站导航",u["default"].createElement("div",{className:"header-nav-site header-nav-second",style:{display:this.state.siteNavListShow}},u["default"].createElement("dl",{className:"header-jiulv header-nav-third"},u["default"].createElement("dt",null,"酒店旅游"),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://hotel.meituan.com/"+n.pinyin+"/",target:"_blank"},"酒店")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://hotel.meituan.com/"+n.pinyin+"/c-haohuajiudian",target:"_blank"},"高端酒店")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://hotel.meituan.com/"+n.pinyin+"/c-zhutijiudian",target:"_blank"},"主题酒店")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://hotel.meituan.com/"+n.pinyin+"/c-qingnianlvshe",target:"_blank"},"青年旅社")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://hotel.meituan.com/"+n.pinyin+"/c-kezhan",target:"_blank"},"客栈")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/mobile_poi_zhoubianyou",target:"_blank"},"周边游")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/youle",target:"_blank"},"景点门票")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/wenquan",target:"_blank"},"温泉")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/nongjiale",target:"_blank"},"农家乐")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/zhutigongyuan",target:"_blank"},"公园游乐园")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://trip.meituan.com/dujia/gentuanyou",target:"_blank"},"跟团游")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://trip.meituan.com/dujia/guoneiyou",target:"_blank"},"国内游")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://trip.meituan.com/dujia/jingwaiyou",target:"_blank"},"境外游")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://trip.meituan.com/dujia/qianzheng",target:"_blank"},"签证"))),u["default"].createElement("dl",{className:"header-meishi header-nav-third"},u["default"].createElement("dt",null,"吃美食"),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/meishi",target:"_blank"},"美食")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/kuaican",target:"_blank"},"特色小吃")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/kaorou",target:"_blank"},"烧烤")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/zizhucan",target:"_blank"},"自助餐")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/huoguo",target:"_blank"},"火锅")),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/category/daijinquan_meishi",target:"_blank"},"代金券"))),u["default"].createElement("dl",{className:"header-movie header-nav-third"},u["default"].createElement("dt",null,"看电影"),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/dianying/zuixindianying",target:"_blank"},"热映电影")),s.map(function(e){return u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://"+n.acronym+".meituan.com/dianying/"+e.id,target:"_blank"},"$",e.nm))})),u["default"].createElement("dl",{className:"header-app header-nav-third"},u["default"].createElement("dt",null,"手机应用"),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://i.meituan.com/mobile/down/meituan",target:"_blank"},u["default"].createElement("img",{className:"appicon",src:(0,o.url)("/img/appicons/meituan.png"),title:"美团app",alt:"美团app"}))),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://waimai.meituan.com/mobile/download/default",target:"_blank"},u["default"].createElement("img",{className:"appicon",src:(0,o.url)("/img/appicons/waimai.png"),title:"外卖app",alt:"外卖app"}))),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://www.zhenguo.com",target:"_blank"},u["default"].createElement("img",{className:"appicon",src:(0,o.url)("/img/appicons/zhenguo.png"),title:"榛果app",alt:"榛果app"}))),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://www.dianping.com/events/m/index.htm",target:"_blank"},u["default"].createElement("img",{className:"appicon",src:(0,o.url)("/img/appicons/dianping.png"),title:"点评app",alt:"点评app"}))),u["default"].createElement("dd",null,u["default"].createElement("a",{href:"http://maoyan.com/app",target:"_blank"},u["default"].createElement("img",{className:"appicon",src:(0,o.url)("/img/appicons/maoyan.png"),title:"猫眼app",alt:"猫眼app"}))))))))))}}]),t}(u["default"].Component);t["default"]=i},15:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=function(e){return e&&e.__esModule?e:{"default":e}}(o),i=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.categorys,a=e.display,n=e.city;return t&&t.length>0?u["default"].createElement("nav",{className:"header-categorys-list",style:{display:a}},t.map(function(e,t){return e&&e.leftPcHomeCategoryList&&e.leftPcHomeCategoryList.length>0?u["default"].createElement("li",{className:"clearfix",key:t},e.leftPcHomeCategoryList.map(function(e){return u["default"].createElement("a",{href:"http://"+e.url.replace("{city}",n.acronym).replace("{cityQP}",n.pinyin),key:e.id},e.name)})):null})):null}}]),t}(u["default"].Component);t["default"]=i},83:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(13),l=function(e){return e&&e.__esModule?e:{"default":e}}(n);t["default"]=l["default"]}},[83]);
